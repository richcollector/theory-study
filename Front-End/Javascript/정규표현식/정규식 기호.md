## 정규식 기호

### 정규식 특정 문자 숫자 매칭 패턴

|     패턴     |                                              의미                                              |
| :----------: | :--------------------------------------------------------------------------------------------: |
|   `a-zA-Z`   |                                   영어알파벳 (-로 범위 지정)                                   |
| `ㄱ-ㅎ가-힣` |                                   한글 문자 (-로 범위 지정)                                    |
|    `0-9`     |                                      숫자 (-로 범위 지정)                                      |
|     `.`      |             모든 문자열 (숫자, 한글, 영어, 특수기호, 공백 모두)</br> 단, 줄바꿈 x              |
|     `\d`     |                                              숫자                                              |
|     `\D`     |                                         숫자가 아닌 것                                         |
|     `\w`     |               밑줄 문자를 포함한 영숫자 문자에 대응.</br> `[A-Za-z0-9_]`와 동일                |
|     `\W`     |                                         \w가 아닌 것들                                         |
|     `\s`     |                                           space 공백                                           |
|     `\S`     |                                      space 공백이 아닌 것                                      |
| `\특수기호`  |                                특수기호 `\* \^ \& \! \?` ...등                                 |
|     `\b`     | 63개 문자 (영문 대소문자 52개 + 숫자 10개 + \_(underscore))가 아닌 나머지 문자에 일치하는 경계 |
|     `\B`     |                                   63개 문자에 일치하는 경계                                    |
|     `\x`     |                          16진수 문자에 일치.</br> `/\x61/`는 a에 일치                          |
|     `\0`     |                          8진수 문자에 일치.</br> `/\141/`은 a에 일치                           |
|     `\u`     |                   유니코드(Unicode) 문자에 일치.</br> `/\u0061/`는 a에 일치                    |
|     `\c`     |                                   제어(Control) 문자에 일치                                    |
|     `\f`     |                                폼 피드 (FF, U+000C) 문자에 일치                                |
|     `\n`     |                                줄 바꿈 (LF, U+000A) 문자에 일치                                |
|     `\r`     |                              캐리지 리턴 (CR, U+000D) 문자에 일치                              |
|     `\t`     |                                    탭 (U+0009) 문자에 일치                                     |

### 정규식 검색 기준 패턴

|   기호    |                                                                        의미                                                                         |
| :-------: | :-------------------------------------------------------------------------------------------------------------------------------------------------: |
|   `\|`    |                                                                   OR</br> `a\|b`                                                                    |
|   `[]`    |   괄호안의 문자들 중 하나. or 처리 묶음</br> `/abc/`: "abc"를 포함</br> `/[abc]/`: "a" or "b" or "c"를 포함</br> `[다-바]`: 다 or 라 or 마 or 바    |
| `[^문자]` | 괄호안의 문자를 제외한 것 </br> `[^lgEn]`: "l", "g", "E", "n" 4개 문자를 제외 </br> \* 대괄호 안에서 쓰면 제외의 뜻, 대괄호 밖에서 쓰면 시작점의 뜻 |
| `^문자열` |                                                     특정 문자열로 시작 (시작점) </br> `/^www/`                                                      |
| `문자열$` |                                                     특정 문자열로 끝남 (종착점) </br> `/com$/`                                                      |

### 정규식 갯수 반복 패턴

|     기호     |                              의미                              |
| :----------: | :------------------------------------------------------------: |
|     `?`      |             없거나 or 최대 한개만</br> `/apple?/`              |
|     `*`      |                   없거나 or 있거나 (여러개)                    |
|     `+`      |                      최소 한개 or 여러개                       |
|     `*?`     |  없거나, 있거나 and 없거나, 최대 한개: 없음<br/> `{0}`와 동일  |
|     `+?`     | 최소한개, 있거나 and 없거나, 최대 한개: 한개<br/> `{1}`와 동일 |
|    `{n}`     |                              n개                               |
|   `{Min,}`   |                        최소 Min개 이상                         |
| `{Min, Max}` |  최소 Min개 이상, 최대 Max개 이하<br/> `{3,5}? == {3}`와 동일  |

### 정규식 그룹 패턴

|    기호    |                          의미                          |
| :--------: | :----------------------------------------------------: |
|    `()`    |                     그룹화 및 캡처                     |
| `(?:패턴)` |                    그룹화 (캡처 X)                     |
|   `(?=)`   |        앞쪽 일치 (Lookahead), <br/> `/ab(?=c)/`        |
|   `(?!)`   | 부정 앞쪽 일치 (Negative Lookahead), <br/> `/ab(?!c)/` |
|  `(?<=)`   |        뒤쪽 일치 (Lookbehind), <br/> `(?<=ab)c`        |
|  `(?<!)`   |    부정 뒤쪽 일치 (Negative Lookbehind), `(?<!ab)c`    |

- 정규식 그룹화

```js
"kokokoko".match(/ko+/); // "ko"
"kooookoooo".match(/ko+/); // "koooo"
```

코드를 보면 알수 있듯이, 표현식 ko+는 "o"만 + 를 적용시킵니다. ("k" 는 적용안시킴)
그 결과로 "koooo"가 반환되었습니다.

```js
"kokokoko".match(/(ko)+/); // "kokokoko", "ko"
"kooookoooo".match(/(ko)+/); // "ko", "ko"
```

하지만 표현식 (ko)+는 "k"와 "o"를 묶었기(그룹화) 때문에 "ko" 자체를 1회 이상 연속으로 반복되는 문자로 검색하게 됩니다.
따라서 결과가 "kokokoko"가 반환되었습니다.

패턴 ()를 사용한 정규식들의 결과를 잘 보면 플래그 g를 사용하지 않았는데도 일치한 결과가 2개가 나옵니다.

- 정규식 캡처 기능

  패턴 그룹화 ()는 괄호 안에 있는 표현식을 캡처하여 사용합니다.
  캡처는 일종의 복사본을 생성하는 개념이라고 보면 됩니다. (복사라는 단어는 이해를 돕기 위해서만 사용하며, 실제 개념과는 다릅니다.)

```js
"kokokoko".match(/(ko)+/); // "kokokoko", "ko"
```

정규식의 캡처 원리를 알아보자면, 패턴 ()안에 있는 "ko"를 그룹화하여 캡처(복사)합니다.
우선 캡처된 표현식은 당장 사용되지 않으며, 그룹화된 "ko"를 패턴 +로 1회 이상 연속으로 반복되는 문자로 검색한다. 그렇게 캡처 외 표현식이 모두 작동하고 난 뒤에 복사했던(캡처된) 표현식 "ko"가 검색되는 것이다.

즉, 위의 검색 순서를 정리하자면 다음과 같게 됩니다.

- 그룹화된 "ko"를 패턴 +로 1회 이상 연속으로 반복하여 검색하여 "kokokoko"를 반환하고
- 캡처된 "ko"로 검색하여 "ko"를 추가 반환

```js
"123abc".match(/(\d+)(\w)/); // "123a", "123", "a"
/*
1. 패턴 ()안의 표현식을 순서대로 캡처. \d+, \w
2. 캡처 후 남은 표현식으로 검색.
3. 패턴 \d로 숫자를 검색하되 패턴 +로 1개 이상 연속되는 숫자를 검색 → "123"
4. 다음 패턴 \w는 문자를 검색하니 "a"가 일치
5. 최종적으로 "123a"가 반환.

6. 첫 번째 캡처한 표현식 \d+로 숫자를 재검색하되 패턴 +로 1개 이상 연속되는 숫자를 검색
7. "123"가 일치하여 반환

8. 나머지 캡처한 표현식 \w로 문자를 검색하니 "a"가 일치하여 반환
*/
```

- 캡처하지 않는 그룹화 (?:)

  위에서 살펴봤듯이 뜻하지 않은 정규식 그룹화 캡쳐 기능 때문에 쓸데없는 결과값을 얻는 것이 싫다면, 괄호 안에 ?: 문자를 씀으로써 캡쳐를 비활성화 할 수 있습니다.
  따라서 표현식 캡처를 하지 않기 때문에 "k"와 "o"를 그룹화한 "ko"만으로 검색되게 됩니다.

```javascript
// 그룹화 + 캡처
"kokokoko".match(/(ko)+/); // "kokokoko", "ko"

// 그룹화만
"kokokoko".match(/(?:ko)+/); // "kokokoko"
```

### 참고자료

- [정규식 기호 모음](https://inpa.tistory.com/entry/JS-%F0%9F%93%9A-%EC%A0%95%EA%B7%9C%EC%8B%9D-RegExp-%EB%88%84%EA%B5%AC%EB%82%98-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-%EC%89%BD%EA%B2%8C-%EC%A0%95%EB%A6%AC)
