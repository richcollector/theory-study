## OSI 7계층 TCP/IP 4계층

네트워크 프로토콜 계층은 다음과 같이 OSI 7계층과 TCP/IP 4계층으로 나눌 수 있음

IP 프로토콜보다 더 높은 계층에 TCP 프로토콜이 존재하기 때문에 앞서 다룬 IP 프로토콜의 한계를 보완할 수 있음

TCP/IP 4계층은 OSI 7계층보다 먼저 개발되었으며 TCP/IP 프로토콜의 계층은 OSI 모델의 계층과 정확하게 일치하지는 않는다. 실제 네트워크 표준은 업계표준을 따라는 TCP/IP 4계층에 가깝다.

예시) 채팅프로그램에서 메시지를 보낼때 일어나는 일

- 채팅창에서 메시지 생성

  HTTP 메시지가 생성되면 Socket을 통해 전달된다.
  프로그램이 네트워크에서 데이터를 송수신할 수 있도록 네트워크 환경에 연결할 수 있게 만들어진 연결부가 바로 소켓이다. (Socket)

- TCP 세그먼트 생성, 메시지 데이터 포함

  IP 패킷 생성, TCP 데이터 포함
  생성된 TCP/IP 패킷은 LAN 카드와 같은 물리적 계층을 지나기 위해 이더넷 프레임워크에 포함되어 서버로 전송된다.

## OSI 7계층

- 물리 계층 (Physical Layer)

  전기적, 물리적 특성을 다루며, 비트를 전송하는 역할을 합니다.
  케이블, 허브 등이 여기에 해당합니다.

- 데이터 링크 계층 (Data Link Layer)

  데이터 프레임의 오류 제어, 흐름 제어, MAC 주소를 통한 주소 지정이 이뤄집니다.
  이더넷, 프레임 릴레이 등이 여기에 해당합니다.

- 네트워크 계층 (Network Layer)

  패킷의 경로 선택과 라우팅을 담당합니다.
  IP 프로토콜이 주로 사용되며, 라우터가 이 계층에서 동작합니다.

- 전송 계층 (Transport Layer)

  데이터의 신뢰성, 흐름 제어, 에러 복구 등을 담당합니다.
  TCP, UDP가 여기에 속하며, 종단 간 통신을 지원합니다.

- 세션 계층 (Session Layer)

  세션의 설정, 유지, 종료 등을 관리합니다.
  RPC, NetBIOS 등이 여기에 해당합니다.

- 표현 계층 (Presentation Layer)

  데이터의 압축, 암호화, 변환 등을 담당합니다.
  JPEG, GIF, SSL 등이 여기에 해당합니다.

- 응용 계층 (Application Layer)

  최종 사용자와 상호작용하는 응용 프로그램을 포함합니다.
  HTTP, FTP, SMTP 등이 여기에 해당합니다.

## TCP/IP 4계층

- 응용 계층 (Application Layer)

  OSI의 응용 계층과 유사하며, 사용자 인터페이스를 제공합니다.
  HTTP, FTP, SMTP 등이 여기에 해당합니다.

- 전송 계층 (Transport Layer)

  OSI의 전송 계층과 동일하며, 종단 간 통신을 담당합니다.
  TCP, UDP가 여기에 속하며, 신뢰성 있는 통신을 제공합니다.

- 인터넷 계층 (Internet Layer)

  OSI의 네트워크 계층과 유사하며, 라우팅과 패킷 전송을 담당합니다.
  IP 프로토콜이 여기에 속합니다.

- 네트워크 액세스 계층 (Network Access Layer)

  OSI의 데이터 링크 계층과 물리 계층을 포함하는 역할을 합니다.
  물리적인 네트워크 환경을 다루며, Ethernet, Wi-Fi, PPP 등이 여기에 해당합니다.

TCP/IP는 업데이트되면서 Network Access Layer계층이 DataLink Layer, Physical Layer로 분리되면서 하위 4계층은 OSI 7 Layer와 동일한 계층을 이루게 되었다.

### TCP/IP 5 Layer

TCP/IP 4계층에서 시작한 네트워크 표준이 꾸준히 갱신되면서 하위 레이어가 다시 세분화 되었습니다. TCP/IP 4계층의 Network Interface Layer를 Data link Layer와 Physical Layer로 나뉘어져서 TCP/IP 5계층 모델이 되었습니다.

ISO에서 표준화 시킨 OSI 7 Layer는 TCP/IP 보다 점유율이 낮아 사실상 산업표준은 TCP/IP 5 Layer가 되었다.

#### 진행 과정

- 전달받은 IP주소를 이용하여 웹 브라우저는 웹 서버에게 해당 웹 사이트에 맞는 html문서를 요청한다.

- 해당 HTTP 요청 메세지는 TCP/IP 프로토콜을 사용하여 서버로 전송된다.

- TCP는 전송 제어 프로토콜로 데이터의 전송을 제어하고 데이터를 어떻게 보낼 지, 어떻게 맞출 지 정한다.

- IP의 특징인 비신뢰성과 비연결성으로 인해 IP 프로토콜 만으로는 통신을 할 수 없다. 그렇기에, 신뢰성과 연결성을 책임지는 TCP를 활용하여 통신을 한다.

- 3 way handshake로 연결 및 데이터를 수신한다.

- 4 way handshake로 연결을 종료한다.

#### 차이점

- TCP/IP는 세션 계층을 별도로 두지 않고 응용 계층과 전송 계층에서 처리합니다.
- TCP/IP는 표현 계층을 별도로 두지 않고 응용 계층에서 처리합니다.
- TCP/IP는 네트워크 액세스 계층에서 물리 계층과 데이터 링크 계층을 포함하여 처리합니다.
